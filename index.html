<!doctype html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Projet 02 ‚Äî Bullet Journal</title>
  <meta name="description" content="Bullet journal local : daily log, habitudes, projets et reviews." />
  <meta name="theme-color" content="#19500e" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <div class="wrap topbar__inner">
      <div class="topbar__left">
        <button id="btnDrawer" class="btn btn--ghost btn--drawer" type="button" aria-expanded="false">‚ò∞</button>
        <div class="brand">
          <span class="brand__dot" aria-hidden="true"></span>
          <div>
            <p class="brand__kicker">GRDN project</p>
            <h1 class="brand__title">Bullet Journal V2.01</h1>
          </div>
        </div>
      </div>

      <div class="topbar__center">
        <nav class="tabs" aria-label="Navigation">
          <a class="tab" href="#dashboard" data-route="dashboard">Dashboard</a>
          <a class="tab" href="#daily" data-route="daily">Daily</a>
          <a class="tab" href="#review" data-route="review">Review</a>
          <a class="tab" href="#monthly" data-route="monthly">Mensuel</a>
          <a class="tab" href="#habits" data-route="habits">Habits</a>
          <a class="tab" href="#projects" data-route="projects">Projets</a>
          <a class="tab" href="#collections" data-route="collections">Collections</a>
          <a class="tab" href="#year" data-route="year">Ann√©e</a>
        </nav>
      </div>

      <div class="topbar__actions">
        <details class="menu">
          <summary class="btn btn--ghost btn--icon" aria-label="Compte" title="Compte">üë§</summary>
          <div class="menu__panel">
            <button class="btn btn--ghost menu__close" type="button" data-menu-close>Fermer</button>
            <div id="syncStatus" class="syncStatus">Sync non configur√©e</div>
            <div id="syncHistory" class="syncHistory"></div>
            <div id="syncCloudMeta" class="syncDebug" hidden></div>
            <div id="syncDebug" class="syncDebug" hidden></div>
            <button id="btnForceRefresh" class="btn btn--ghost" type="button" hidden>Forcer MAJ</button>
            <button id="btnSnapshot" class="btn btn--ghost" type="button" hidden>Snapshot local</button>
            <button id="btnRestoreSnapshot" class="btn btn--ghost" type="button" hidden>Restaurer snapshot</button>
            <button id="btnLogin" class="btn btn--primary" type="button">Se connecter</button>
            <button id="btnSyncNow" class="btn btn--ghost" type="button" hidden>Sync maintenant</button>
            <button id="btnLogout" class="btn btn--ghost" type="button" hidden>Se d√©connecter</button>
          </div>
        </details>

        <details class="menu">
          <summary class="btn btn--ghost btn--icon" aria-label="Param√®tres" title="Param√®tres">‚öôÔ∏è</summary>
          <div class="menu__panel">
            <button class="btn btn--ghost menu__close" type="button" data-menu-close>Fermer</button>
            <button id="btnTheme" class="btn btn--ghost" type="button" aria-pressed="false">üåô Sombre</button>
            <button id="btnOnboarding" class="btn btn--ghost" type="button">Guide rapide</button>
            <button id="btnExport" class="btn btn--ghost" type="button">Exporter</button>

            <label class="btn btn--ghost filebtn" for="importFile">Importer</label>
            <input id="importFile" class="sr-only" type="file" accept="application/json" />

            <button id="btnReset" class="btn btn--danger" type="button">Reset</button>
          </div>
        </details>
      </div>
    </div>
  </header>

  <div id="drawerOverlay" class="drawerOverlay"></div>

  <main class="wrap layout">
    <!-- SIDEBAR -->
    <aside class="side">
      <div class="side__mobileHead">
        <span class="side__mobileTitle">Menu</span>
        <button id="btnDrawerClose" class="btn btn--ghost btn--icon" type="button">‚úï</button>
      </div>

      <nav class="sideNav" aria-label="Navigation">
        <a class="tab tab--side" href="#dashboard" data-route="dashboard">Dashboard</a>
        <a class="tab tab--side" href="#daily" data-route="daily">Daily</a>
        <a class="tab tab--side" href="#review" data-route="review">Review</a>
        <a class="tab tab--side" href="#monthly" data-route="monthly">Mensuel</a>
        <a class="tab tab--side" href="#habits" data-route="habits">Habits</a>
        <a class="tab tab--side" href="#projects" data-route="projects">Projets</a>
        <a class="tab tab--side" href="#collections" data-route="collections">Collections</a>
        <a class="tab tab--side" href="#year" data-route="year">Ann√©e</a>
      </nav>

      <div class="side__card">
        <div class="side__row">
          <h2 class="h2">Navigation</h2>
          <button id="btnToday" class="pill" type="button">Aujourd‚Äôhui</button>
        </div>

        <div class="field">
          <label class="label" for="datePick">Aller √† la date</label>
          <input id="datePick" class="input" type="date" />
        </div>

        <div class="field">
          <label class="label" for="search">Recherche (daily)</label>
          <input id="search" class="input" type="search" placeholder="mot-cl√©, #tag, texte‚Ä¶" />
        </div>
      </div>

      <div class="side__card">
        <div class="side__row">
          <h2 class="h2">Tags</h2>
          <span class="muted">Daily</span>
        </div>
        <div id="tagIndex" class="chips chips--tight"></div>
      </div>

      <div class="side__card">
        <h2 class="h2">L√©gende BuJo</h2>
        <ul class="legend">
          <li><span class="dot dot--note">‚Ä¢</span> Note</li>
          <li><span class="dot dot--event">‚óã</span> √âv√©nement</li>
          <li><span class="dot dot--task">‚ñ°</span> T√¢che</li>
          <li><span class="dot dot--done">‚úì</span> Fait</li>
          <li><span class="dot dot--migrated">‚Üí</span> Migr√©</li>
          <li><span class="dot dot--canceled">‚úï</span> Annul√©</li>
        </ul>

        <div class="legendMood">
          <div class="legendMood__row">
            <span class="mDot mDot--green"></span><span>Jour ok</span>
          </div>
          <div class="legendMood__row">
            <span class="mDot mDot--yellow"></span><span>Jour moyen</span>
          </div>
          <div class="legendMood__row">
            <span class="mDot mDot--red"></span><span>Jour dur</span>
          </div>
        </div>
      </div>
    </aside>

    <!-- CONTENT -->
    <section class="content">

      <!-- DASHBOARD -->
      <section class="page" id="page-dashboard" data-page="dashboard">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Dashboard</h2>
              <p class="muted">Aper√ßu du jour + t√¢ches + √©v√©nements + habitudes + collections + mood.</p>
            </div>
            <div class="chips">
              <span class="chip" id="dashTodayChip">Aujourd‚Äôhui</span>
              <span class="chip" id="dashMonthChip">Mois</span>
            </div>
            <div class="tools">
              <details class="menu menu--inline">
                <summary class="btn btn--ghost">Personnaliser</summary>
                <div class="menu__panel menu__panel--wide">
                  <button class="btn btn--ghost menu__close" type="button" data-menu-close>Fermer</button>
                  <div class="menuSection">
                    <div class="menuTitle">Dashboard</div>
                    <div id="dashWidgetToggles" class="toggleList"></div>
                  </div>
                  <div class="menuSection">
                    <div class="menuTitle">Insights</div>
                    <div id="dashInsightToggles" class="toggleList"></div>
                  </div>
                  <button id="dashResetWidgets" class="btn btn--ghost" type="button">Tout afficher</button>
                </div>
              </details>
            </div>
          </div>

          <div class="dashGrid">
            <article class="dashCard" data-widget="dashMood">
              <h3 class="dashCard__title">R√©sum√© mental (jour)</h3>
              <div id="dashMood" class="dashCard__body"></div>
            </article>

            <article class="dashCard" data-widget="dashToday">
              <h3 class="dashCard__title">Aujourd‚Äôhui</h3>
              <div id="dashTodaySummary" class="dashCard__body"></div>
            </article>

            <article class="dashCard" data-widget="dashOpenTasks">
              <h3 class="dashCard__title">T√¢ches ouvertes</h3>
              <div id="dashOpenTasks" class="dashCard__body"></div>
            </article>

            <article class="dashCard" data-widget="dashBacklog">
              <h3 class="dashCard__title">Backlog & retard</h3>
              <div id="dashBacklog" class="dashCard__body"></div>
            </article>

            <article class="dashCard" data-widget="dashUpcomingEvents">
              <h3 class="dashCard__title">Prochains √©v√©nements</h3>
              <div id="dashUpcomingEvents" class="dashCard__body"></div>
            </article>

            <article class="dashCard" data-widget="dashHabitsToday">
              <h3 class="dashCard__title">Habits du jour</h3>
              <div id="dashHabitsToday" class="dashCard__body"></div>
            </article>

            <article class="dashCard dashCard--wide" data-widget="dashCollections">
              <h3 class="dashCard__title">Collections r√©centes</h3>
              <div id="dashCollections" class="dashCard__body"></div>
            </article>

            <article class="dashCard dashCard--wide" data-widget-group="insights">
              <h3 class="dashCard__title">Insights</h3>
              <div class="insightGrid">
                <div class="insightCard" data-widget="insightBestDays">
                  <div class="insightTitle">Meilleurs jours (mois)</div>
                  <div id="dashBestDays" class="insightBody"></div>
                </div>
                <div class="insightCard" data-widget="insightStableHabits">
                  <div class="insightTitle">Habitudes les plus stables</div>
                  <div id="dashStableHabits" class="insightBody"></div>
                </div>
                <div class="insightCard" data-widget="insightMoodWeekAvg">
                  <div class="insightTitle">Mood moyen (semaine)</div>
                  <div id="dashMoodWeekAvg" class="insightBody"></div>
                </div>
                <div class="insightCard" data-widget="insightHabitAlerts">
                  <div class="insightTitle">Alertes habitudes en baisse</div>
                  <div id="dashHabitAlerts" class="insightBody"></div>
                </div>
                <div class="insightCard" data-widget="insightMoodHabitCorr">
                  <div class="insightTitle">Corr√©lations mood & habitudes</div>
                  <div id="dashMoodHabitCorr" class="insightBody"></div>
                </div>
                <div class="insightCard" data-widget="insightTrends">
                  <div class="insightTitle">Tendances simples (4 semaines)</div>
                  <div id="dashTrends" class="insightBody"></div>
                </div>
              </div>
            </article>

            <!-- NEW: mood chart -->
            <article class="dashCard dashCard--wide" data-widget="dashMoodChart">
              <h3 class="dashCard__title">Mood ‚Äî % par mois (ann√©e)</h3>
              <div id="dashMoodChart" class="dashCard__body"></div>
            </article>
          </div>
        </div>
      </section>

      <!-- DAILY -->
      <section class="page" id="page-daily" data-page="daily">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 id="dailyTitle" class="titleDate">Daily</h2>
              <p class="muted">Daily log + r√©sum√© mental du jour.</p>
            </div>
            <div class="chips">
              <span class="chip">Sauvegarde auto</span>
              <span class="chip">LocalStorage</span>
            </div>
            <div class="tools">
              <details class="menu menu--inline">
                <summary class="btn btn--ghost">Actions</summary>
                <div class="menu__panel">
                  <button class="btn btn--ghost menu__close" type="button" data-menu-close>Fermer</button>
                  <button id="btnFocus" class="btn btn--ghost" type="button">Focus</button>
                  <button id="btnExportDay" class="btn btn--ghost" type="button">Exporter jour (MD)</button>
                  <button id="btnExportWeek" class="btn btn--ghost" type="button">Exporter semaine (MD)</button>
                  <button id="btnClearDay" class="btn btn--danger" type="button">Vider ce jour</button>
                </div>
              </details>
            </div>
          </div>
        </div>

        <div class="panel dailyCapture">
          <div class="panel__head">
            <div>
              <h2 class="titleSmall">Capture</h2>
              <p class="muted">Mood + notes + t√¢ches en un seul endroit.</p>
            </div>
          </div>

          <!-- Mood summary -->
          <div class="moodBox">
            <div class="moodBox__top">
              <h3 class="titleSmall">R√©sum√© mental</h3>
              <div class="moodPills" role="group" aria-label="√âtat du jour">
                <button type="button" class="moodPill" data-mood="green"><span class="mDot mDot--green"></span> Vert</button>
                <button type="button" class="moodPill" data-mood="yellow"><span class="mDot mDot--yellow"></span> Jaune</button>
                <button type="button" class="moodPill" data-mood="red"><span class="mDot mDot--red"></span> Rouge</button>
                <button type="button" class="moodPill moodPill--ghost" data-mood="none">Effacer</button>
              </div>
            </div>
            <div class="field">
              <label class="label" for="moodText">Description (1‚Äì2 phrases)</label>
              <textarea id="moodText" class="textarea textarea--sm" placeholder="Ex : journ√©e charg√©e mais ok / stress + fatigue / super √©nergie‚Ä¶"></textarea>
            </div>
            <div class="moodBox__footer">
              <span id="moodSavedHint" class="muted">Auto-sauvegarde</span>
            </div>
          </div>

          <!-- Daily entry form -->
          <form id="entryForm" class="form">
            <div class="row row--2">
              <div class="field">
                <label class="label" for="kind">Type</label>
                <select id="kind" class="select">
                  <option value="note">‚Ä¢ Note</option>
                  <option value="event">‚óã √âv√©nement</option>
                  <option value="task">‚ñ° T√¢che</option>
                </select>
              </div>
              <div class="field">
                <label class="label" for="projectId">Projet (optionnel)</label>
                <select id="projectId" class="select"></select>
              </div>
            </div>

            <div class="field">
              <label class="label" for="text">Texte</label>
              <textarea id="text" class="textarea" minlength="1" placeholder="Ex: ‚ñ° Appeler X / ‚Ä¢ id√©e post / ‚óã RDV 15:30"></textarea>
            </div>

            <details class="captureOptions">
              <summary>Options (heure, tags, date)</summary>
              <div class="row row--3">
                <div class="field">
                  <label class="label" for="time">Heure (optionnel)</label>
                  <input id="time" class="input" type="time" />
                </div>
                <div class="field">
                  <label class="label" for="tags">Tags (optionnel)</label>
                  <input id="tags" class="input" type="text" placeholder="ex: #work #sport" />
                </div>
                <div class="field">
                  <label class="label" for="taskDate">Date t√¢che (optionnel)</label>
                  <input id="taskDate" class="input" type="date" />
                </div>
              </div>
              <div class="field">
                <span class="muted">Si vide, la t√¢che reste chaque jour.</span>
              </div>
            </details>

            <div class="form__footer">
              <button id="btnCancelEdit" class="btn btn--ghost" type="button" hidden>Annuler</button>
              <button id="btnEntrySubmit" class="btn btn--primary" type="submit">Ajouter</button>
            </div>
          </form>
        </div>

        <div class="dailyLayout">
          <div class="dailyLeft">
            <div class="panel">
              <div class="panel__head">
                <h2 class="titleSmall">Semaine</h2>
              </div>
              <div id="weeklySummary" class="weeklySummary"></div>
            </div>
          </div>

          <div class="dailyRight">
            <div class="panel">
              <div class="panel__head">
                <div>
                  <h2 class="titleSmall">T√¢ches focus</h2>
                  <p class="muted">Aujourd‚Äôhui, √† venir et backlog.</p>
                </div>
                <label class="check">
                  <input id="filterOpenTasks" type="checkbox" />
                  T√¢ches ouvertes seulement
                </label>
              </div>

              <details class="taskBlock" open>
                <summary class="taskToggle">
                  <span class="taskToggle__open">Masquer les listes</span>
                  <span class="taskToggle__closed">Afficher les listes</span>
                </summary>

                <div class="taskBoard">
                  <section class="taskCol">
                    <div class="taskCol__head">
                      <span>Aujourd‚Äôhui</span>
                      <span id="dailyTaskCountToday" class="taskCount">0</span>
                    </div>
                    <div id="dailyTasksToday" class="entries entries--compact"></div>
                  </section>

                  <section class="taskCol">
                    <div class="taskCol__head">
                      <span>√Ä venir</span>
                      <span id="dailyTaskCountUpcoming" class="taskCount">0</span>
                    </div>
                    <div id="dailyTasksUpcoming" class="entries entries--compact"></div>
                  </section>

                  <section class="taskCol">
                    <div class="taskCol__head">
                      <span>Backlog / sans date</span>
                      <span id="dailyTaskCountBacklog" class="taskCount">0</span>
                    </div>
                    <div id="dailyTasksBacklog" class="entries entries--compact"></div>
                  </section>
                </div>

                <details id="dailyTasksDoneWrap" class="taskDone">
                  <summary>Termin√©es (<span id="dailyTaskCountDone">0</span>)</summary>
                  <div id="dailyTasksDone" class="entries entries--compact"></div>
                </details>
              </details>
            </div>

            <div class="panel">
              <div class="panel__head">
                <div>
                  <h2 class="titleSmall">Journal</h2>
                  <p class="muted">Notes + √©v√©nements du jour.</p>
                </div>
                <div class="chips chips--tight" id="dailyFilters" aria-label="Filtres Journal">
                  <button class="pill is-active" type="button" data-filter="all">Tout</button>
                  <button class="pill" type="button" data-filter="note">Notes</button>
                  <button class="pill" type="button" data-filter="event">√âv√©nements</button>
                </div>
              </div>

              <p id="emptyState" class="empty" hidden>Aucune note ou √©v√©nement aujourd‚Äôhui.</p>
              <div id="entries" class="entries" aria-live="polite"></div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Templates rapides</h2>
              <p class="muted">Une liste simple de lignes. Pr√©fixe ‚ñ°/‚óã/‚Ä¢ pour typer.</p>
            </div>
          </div>

          <form id="templateForm" class="form">
            <div class="row row--2">
              <div class="field">
                <label class="label" for="templateName">Nom du template</label>
                <input id="templateName" class="input" type="text" maxlength="24" placeholder="Ex : Journ√©e type" />
              </div>
              <div class="field">
                <span class="muted">Ex : ‚ñ° Focus 2h / ‚óã 18:30 Sport</span>
              </div>
            </div>
            <div class="field">
              <label class="label" for="templateLines">Lignes</label>
              <textarea id="templateLines" class="textarea" minlength="1" placeholder="‚ñ° T√¢che importante&#10;‚Ä¢ Note rapide&#10;‚óã 15:00 RDV"></textarea>
            </div>
            <div class="form__footer">
              <button class="btn btn--primary" type="submit">Cr√©er</button>
            </div>
          </form>

          <div id="templateList" class="entries"></div>
        </div>
      </section>

      <!-- MONTHLY -->
      <section class="page" id="page-monthly" data-page="monthly">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Monthly log</h2>
              <p class="muted">Calendrier du mois + √©v√©nements (‚óã) + mood (point color√©).</p>
            </div>

            <div class="monthNav">
              <button id="monthPrev" class="btn btn--ghost" type="button">‚Üê</button>
              <div class="monthNav__title" id="monthTitle">Mois</div>
              <button id="monthNext" class="btn btn--ghost" type="button">‚Üí</button>
            </div>
            <div class="tools">
              <details class="menu menu--inline">
                <summary class="btn btn--ghost">Actions</summary>
                <div class="menu__panel">
                  <button id="btnExportMonth" class="btn btn--ghost" type="button">Mois (MD)</button>
                </div>
              </details>
            </div>
          </div>

          <div class="calendar">
            <div class="calendar__head">
              <div>Lun</div><div>Mar</div><div>Mer</div><div>Jeu</div><div>Ven</div><div>Sam</div><div>Dim</div>
            </div>
            <div id="calendarGrid" class="calendar__grid"></div>
          </div>
        </div>
      </section>

      <!-- HABITS -->
      <section class="page" id="page-habits" data-page="habits">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Habit tracker</h2>
              <p class="muted">Cr√©e des habitudes, puis coche chaque jour. (vue mois)</p>
            </div>

            <div class="monthNav">
              <button id="habPrev" class="btn btn--ghost" type="button">‚Üê</button>
              <div class="monthNav__title" id="habTitle">Mois</div>
              <button id="habNext" class="btn btn--ghost" type="button">‚Üí</button>
            </div>
          </div>

          <form id="habitForm" class="form form--inline form--inline-4">
            <div class="field">
              <label class="label" for="habitName">Nouvelle habitude</label>
              <input id="habitName" class="input" type="text" maxlength="22" placeholder="Ex : Lire 10 min" />
            </div>
            <div class="field">
              <label class="label" for="habitColor">Couleur</label>
              <input id="habitColor" class="input input--color" type="color" value="#19500e" />
            </div>
            <div class="field">
              <label class="label" for="habitTarget">Objectif hebdo</label>
              <select id="habitTarget" class="select">
                <option value="1">1 / 7</option>
                <option value="2">2 / 7</option>
                <option value="3">3 / 7</option>
                <option value="4" selected>4 / 7</option>
                <option value="5">5 / 7</option>
                <option value="6">6 / 7</option>
                <option value="7">7 / 7</option>
              </select>
            </div>
            <button class="btn btn--primary" type="submit">Ajouter</button>
          </form>

          <div class="habitWrap">
            <div class="habitHeader">
              <div class="muted" id="habitStats">0 habitudes</div>
              <button id="habitClearMonth" class="btn btn--ghost" type="button">R√©initialiser le mois</button>
            </div>

            <div class="habitTable" id="habitTable"></div>
          </div>
        </div>
      </section>

      <!-- COLLECTIONS -->
      <section class="page" id="page-collections" data-page="collections">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Collections (th√®mes)</h2>
              <p class="muted">Cr√©e des pages par th√®me : ‚Äú√âtudes‚Äù, ‚ÄúProjets‚Äù, ‚ÄúId√©es‚Äù, etc.</p>
            </div>
          </div>

          <div class="collectionsLayout">
            <div class="collectionsLeft">
              <form id="collectionForm" class="form form--inline">
                <div class="field">
                  <label class="label" for="collectionName">Cr√©er une collection</label>
                  <input id="collectionName" class="input" type="text" maxlength="22" placeholder="Ex : Projets" />
                </div>
                <button class="btn btn--primary" type="submit">Cr√©er</button>
              </form>

              <div class="collectionsList" id="collectionsList"></div>
            </div>

            <div class="collectionsRight">
              <div class="panel panel--inner">
                <div class="panel__head">
                  <div>
                    <h3 id="collectionTitle" class="titleSmall">Aucune collection</h3>
                    <p class="muted" id="collectionMeta">S√©lectionne une collection √† gauche.</p>
                  </div>
                  <div class="tools">
                    <button id="btnDeleteCollection" class="btn btn--danger" type="button" disabled>Supprimer</button>
                  </div>
                </div>

                <form id="collectionItemForm" class="form" hidden>
                  <div class="row row--2">
                    <div class="field">
                      <label class="label" for="collectionItemTags">Tags (optionnel)</label>
                      <input id="collectionItemTags" class="input" type="text" placeholder="#id√©e #cours" />
                    </div>
                    <div class="field">
                      <label class="label" for="collectionItemDate">Date (optionnel)</label>
                      <input id="collectionItemDate" class="input" type="date" />
                    </div>
                  </div>

                  <div class="field">
                    <label class="label" for="collectionItemText">Contenu</label>
                    <textarea id="collectionItemText" class="textarea" minlength="1" placeholder="√âcris ton item‚Ä¶"></textarea>
                  </div>

                  <div class="form__footer">
                    <button class="btn btn--primary" type="submit">Ajouter</button>
                  </div>
                </form>

                <div id="collectionItems" class="entries"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- PROJECTS -->
      <section class="page" id="page-projects" data-page="projects">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Projets</h2>
              <p class="muted">Regroupe les t√¢ches par objectif.</p>
            </div>
          </div>

          <div class="projectsLayout">
            <div class="projectsLeft">
              <form id="projectForm" class="form form--inline">
                <div class="field">
                  <label class="label" for="projectName">Nouveau projet</label>
                  <input id="projectName" class="input" type="text" maxlength="22" placeholder="Ex : Site perso" />
                </div>
                <div class="field">
                  <label class="label" for="projectColor">Couleur</label>
                  <input id="projectColor" class="input input--color" type="color" value="#19500e" />
                </div>
                <button class="btn btn--primary" type="submit">Cr√©er</button>
              </form>

              <div class="projectsList" id="projectsList"></div>
            </div>

            <div class="projectsRight">
              <div class="panel panel--inner">
                <div class="panel__head">
                  <div>
                    <h3 id="projectTitle" class="titleSmall">Aucun projet</h3>
                    <p class="muted" id="projectMeta">Cr√©e un projet √† gauche.</p>
                  </div>
                  <div class="tools">
                    <button id="btnPinProject" class="btn btn--ghost" type="button" disabled>√âpingler</button>
                    <button id="btnArchiveProject" class="btn btn--ghost" type="button" disabled>Archiver</button>
                    <button id="btnDeleteProject" class="btn btn--danger" type="button" disabled>Supprimer</button>
                  </div>
                </div>

                <div id="projectSummary" class="projectSummary"></div>

                <div class="projectBlock">
                  <div class="projectBlock__head">Next action</div>
                  <div id="projectNextAction" class="projectNextAction"></div>
                  <form id="projectNextForm" class="form">
                    <div class="field">
                      <label class="label" for="projectNextSelect">Choisir une t√¢che ouverte</label>
                      <select id="projectNextSelect" class="select"></select>
                    </div>
                    <div class="form__footer">
                      <button class="btn btn--ghost" type="submit">D√©finir</button>
                    </div>
                  </form>
                </div>

                <div class="projectBlock">
                  <div class="projectBlock__head">Ajout rapide</div>
                  <form id="projectTaskForm" class="form form--inline form--inline-3">
                    <div class="field">
                      <label class="label" for="projectTaskText">Nouvelle t√¢che</label>
                      <input id="projectTaskText" class="input" type="text" maxlength="80" placeholder="Ex : Pr√©parer plan" />
                    </div>
                    <div class="field">
                      <label class="label" for="projectTaskDate">Date (optionnel)</label>
                      <input id="projectTaskDate" class="input" type="date" />
                    </div>
                    <button class="btn btn--primary" type="submit">Ajouter</button>
                  </form>
                </div>

                <div class="projectBlock">
                  <div class="projectBlock__head">Jalons</div>
                  <form id="projectMilestoneForm" class="form form--inline form--inline-3">
                    <div class="field">
                      <label class="label" for="projectMilestoneText">Nouveau jalon</label>
                      <input id="projectMilestoneText" class="input" type="text" maxlength="80" placeholder="Ex : Maquette valid√©e" />
                    </div>
                    <div class="field">
                      <label class="label" for="projectMilestoneDate">Date (optionnel)</label>
                      <input id="projectMilestoneDate" class="input" type="date" />
                    </div>
                    <button class="btn btn--ghost" type="submit">Ajouter</button>
                  </form>
                  <div id="projectMilestoneList" class="entries entries--compact"></div>
                </div>

                <div class="projectBlock">
                  <div class="projectBlock__head">T√¢ches</div>
                  <div id="projectTasks" class="entries"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- REVIEW -->
      <section class="page" id="page-review" data-page="review">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Weekly Review</h2>
              <p class="muted">Bilan rapide de la semaine.</p>
            </div>

            <div class="monthNav">
              <button id="reviewPrev" class="btn btn--ghost" type="button">‚Üê</button>
              <div class="monthNav__title" id="reviewTitle">Semaine</div>
              <button id="reviewNext" class="btn btn--ghost" type="button">‚Üí</button>
            </div>
          </div>

          <div class="reviewGrid">
            <article class="reviewCard">
              <h3 class="dashCard__title">R√©sum√©</h3>
              <div id="reviewSummary" class="dashCard__body"></div>
            </article>

            <article class="reviewCard">
              <h3 class="dashCard__title">Mood</h3>
              <div id="reviewMood" class="dashCard__body"></div>
            </article>

            <article class="reviewCard">
              <h3 class="dashCard__title">Habitudes</h3>
              <div id="reviewHabits" class="dashCard__body"></div>
            </article>
          </div>
        </div>

        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="titleSmall">Workflow de review</h2>
              <p class="muted">Checklists guid√©es + questions + r√©sum√© auto.</p>
            </div>
            <div class="chips chips--tight" id="reviewFlowTabs" aria-label="Type de review">
              <button class="pill is-active" type="button" data-flow="daily">Quotidien</button>
              <button class="pill" type="button" data-flow="weekly">Hebdo</button>
              <button class="pill" type="button" data-flow="monthly">Mensuel</button>
            </div>
          </div>

          <div class="reviewFlowMeta">
            <span id="reviewFlowScope" class="reviewScope"></span>
            <span id="reviewFlowProgress" class="reviewProgress"></span>
          </div>

          <div class="reviewFlow">
            <article class="reviewFlow__col">
              <h3 class="dashCard__title">Ce qui a boug√©</h3>
              <div id="reviewAutoSummary" class="reviewAuto"></div>
            </article>

            <article class="reviewFlow__col">
              <h3 class="dashCard__title">Checklist</h3>
              <div id="reviewChecklist" class="reviewChecklist"></div>
            </article>

            <article class="reviewFlow__col">
              <h3 class="dashCard__title">Questions guid√©es</h3>
              <div id="reviewQuestions" class="reviewQuestions"></div>
            </article>
          </div>
        </div>
      </section>

      <!-- YEAR -->
      <section class="page" id="page-year" data-page="year">
        <div class="panel">
          <div class="panel__head">
            <div>
              <h2 class="title">Vue Ann√©e (mental)</h2>
              <p class="muted">Chaque jour = un point vert / jaune / rouge. Clique pour ouvrir la journ√©e.</p>
            </div>

            <div class="yearNav">
              <button id="yearPrev" class="btn btn--ghost" type="button">‚Üê</button>
              <div id="yearTitle" class="monthNav__title">Ann√©e</div>
              <button id="yearNext" class="btn btn--ghost" type="button">‚Üí</button>
            </div>
          </div>

          <div id="yearGrid" class="yearGrid"></div>
        </div>
      </section>

    </section>
  </main>

  <nav class="bottomNav" aria-label="Navigation mobile">
    <a class="tab tab--bottom" href="#dashboard" data-route="dashboard">Dashboard</a>
    <a class="tab tab--bottom" href="#daily" data-route="daily">Daily</a>
    <a class="tab tab--bottom" href="#review" data-route="review">Review</a>
    <a class="tab tab--bottom" href="#habits" data-route="habits">Habits</a>
    <a class="tab tab--bottom" href="#projects" data-route="projects">Projets</a>
  </nav>

  <dialog id="authDialog" class="modal">
    <form method="dialog" class="modal__card" id="authForm">
      <div class="modal__head">
        <h3 class="titleSmall">Connexion</h3>
        <button id="authClose" class="btn btn--ghost modal__close" type="button">Fermer</button>
      </div>
      <div class="field">
        <label class="label" for="authEmail">Email</label>
        <input id="authEmail" class="input" type="email" autocomplete="email" placeholder="email@domaine.com" />
      </div>
      <div class="field">
        <label class="label" for="authPassword">Mot de passe</label>
        <input id="authPassword" class="input" type="password" autocomplete="current-password" />
      </div>
      <div id="authError" class="hint"></div>
      <div class="form__footer">
        <button id="authSignIn" class="btn btn--primary" type="button">Se connecter</button>
        <button id="authSignUp" class="btn btn--ghost" type="button">Cr√©er un compte</button>
      </div>
    </form>
  </dialog>

  <dialog id="syncChoiceDialog" class="modal">
    <form method="dialog" class="modal__card">
      <div class="modal__head">
        <h3 class="titleSmall">Choix de synchronisation</h3>
      </div>
      <p class="muted">Des donn√©es existent d√©j√† dans le cloud. Que veux-tu faire ?</p>
      <div class="choiceActions">
        <button id="syncChoiceLocal" class="btn btn--primary" type="button">Garder mes donn√©es locales</button>
        <button id="syncChoiceCloud" class="btn btn--ghost" type="button">Charger les donn√©es du cloud</button>
      </div>
    </form>
  </dialog>

  <dialog id="syncConflictDialog" class="modal">
    <form method="dialog" class="modal__card">
      <div class="modal__head">
        <h3 class="titleSmall">Conflit de synchronisation</h3>
      </div>
      <p class="muted">Le cloud a chang√© depuis ta derni√®re synchro. Que veux-tu faire ?</p>
      <div class="choiceActions">
        <button id="syncConflictLocal" class="btn btn--primary" type="button">Garder mon local (√©craser le cloud)</button>
        <button id="syncConflictCloud" class="btn btn--ghost" type="button">Charger le cloud (√©craser mon local)</button>
        <button id="syncConflictCancel" class="btn btn--ghost" type="button">Annuler</button>
      </div>
    </form>
  </dialog>

  <dialog id="onboardingDialog" class="modal">
    <form method="dialog" class="modal__card">
      <div class="modal__head">
        <h3 class="titleSmall">Bienvenue</h3>
        <button id="onboardingClose" class="btn btn--ghost modal__close" type="button">Fermer</button>
      </div>
      <p class="muted">Voici comment utiliser Bullet Journal en 3 etapes.</p>
      <ol class="onboardingList">
        <li>Capture tes notes, taches et evenements dans <strong>Daily</strong>.</li>
        <li>Suivi rapide avec <strong>Dashboard</strong> + <strong>Habits</strong>.</li>
        <li>Fais une revue hebdo dans <strong>Review</strong> pour garder le cap.</li>
      </ol>
      <div class="choiceActions">
        <button id="onboardingDemo" class="btn btn--primary" type="button">Charger des donnees de demo</button>
        <button id="onboardingStart" class="btn btn--ghost" type="button">Commencer avec une page vide</button>
      </div>
    </form>
  </dialog>

  <script src="utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js"></script>
</body>
</html>
